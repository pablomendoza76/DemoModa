<!-- Л Barra de categor铆as -->
<nav class="barra-categorias">
  <div class="logo-navbar">
    <img src="/img/fondo1.png" alt="Logo" />
  </div>
  <ul class="lista-categorias">
    <li
      *ngFor="let categoria of categorias"
      class="categoria-item"
      (click)="seleccionarCategoria(categoria)"
    >
      {{ categoria.nombre }}
    </li>

    <!--  Bot贸n de carrito -->
    <li class="categoria-item carrito-btn">
      <button
        class="btn-carrito-contenedor boton-invertido"
        (click)="irAVentas()"
        title="Ir a ventas"
      >
        <span class="carrito-texto">Carrito</span>
        <span class="carrito-icono"></span>
      </button>
    </li>

    <!--  Bot贸n m茅tricas (solo para Sof铆a) -->
    <li class="categoria-item" *ngIf="esSofia">
      <button
        class="btn-carrito-contenedor boton-invertido"
        (click)="irAMetricas()"
        title="Ver m茅tricas"
      >
        <span class="carrito-texto">Ver m茅tricas</span>
      </button>
    </li>

    <!--  Bot贸n de sesi贸n -->
    <li class="categoria-item">
      <button
        class="btn-carrito-contenedor boton-invertido"
        *ngIf="!usuarioAutenticado"
        (click)="iniciarSesion()"
        title="Iniciar sesi贸n"
      >
        <span class="carrito-texto">Iniciar sesi贸n</span>
      </button>

      <button
        class="btn-carrito-contenedor boton-invertido"
        *ngIf="usuarioAutenticado"
        (click)="cerrarSesion()"
        title="Cerrar sesi贸n"
      >
        <span class="carrito-texto">Cerrar sesi贸n</span>
      </button>
    </li>
  </ul>
</nav>

<div class="productos-container">
  <!--  Barra de b煤squeda fija -->
  <div class="barra-superior">
    <input
      type="text"
      [(ngModel)]="terminoBusqueda"
      (input)="aplicarFiltroBusqueda()"
      placeholder="Buscar producto..."
      class="input-busqueda"
    />

    <button
      class="btn-categorias"
      (click)="mostrarModalCategorias = !mostrarModalCategorias"
    >
      Filtrar por categor铆a
    </button>
  </div>

  <!--  Modal lateral de categor铆as -->
  <div class="modal-categorias" *ngIf="mostrarModalCategorias">
    <ul>
      <li
        *ngFor="let categoria of categorias"
        [class.activa]="categoriaActual?.id === categoria.id"
        (click)="seleccionarCategoria(categoria)"
      >
        {{ categoria.nombre }}
      </li>
    </ul>
  </div>

  <!-- З Tarjetas de productos -->
  <app-tarjeta-producto
    [productos]="productosFiltrados"
    [mostrarBotonEditar]="esSofia"
  ></app-tarjeta-producto>
</div>
