<div class="carrito-grid" *ngIf="carrito.length > 0; else vacio">
  <!-- ğŸ§¾ Lista de productos -->
  <div class="carrito-items">
    <h2 class="carrito-titulo">ğŸ›ï¸ Mi carrito ({{ carrito.length }})</h2>

    <div class="item-carrito" *ngFor="let item of carrito">
      <!-- ğŸ–¼ Imagen del producto -->
      <div class="item-imagen">
        <img [src]="item.imagen_url" [alt]="item.nombre" />
      </div>

      <!-- ğŸ“ Info del producto -->
      <div class="item-info">
        <div class="nombre-precio">
          <h3 class="nombre">{{ item.nombre }}</h3>
          <p class="precio">{{ item.precio | currency }}</p>
        </div>

        <div class="variantes">
          <span class="talla">Talla: {{ item.talla }}</span>
        </div>

        <!-- ğŸ”¢ Control de cantidad -->
        <div class="cantidad">
          <label for="cantidad-{{ item.id }}">Cantidad </label>
          <div class="cantidad-controles" id="cantidad-{{ item.id }}">
            <button aria-label="Disminuir cantidad" (click)="restarCantidad(item)">âˆ’</button>
            <span class="cantidad-numero">{{ item.cantidad }}</span>
            <button aria-label="Aumentar cantidad" (click)="sumarCantidad(item)">+</button>
          </div>
        </div>
      </div>

      <!-- âŒ Eliminar producto -->
      <div class="item-eliminar">
        <button aria-label="Eliminar producto" (click)="removerItem(item)">Ã—</button>
      </div>
    </div>
  </div>

  <!-- ğŸ“¦ Resumen del pedido -->
  <div class="resumen-pedido">
    <h3>Resumen</h3>

    <div class="linea">
      <span>Subtotal:</span>
      <span>{{ total | currency }}</span>
    </div>

    <div class="linea">
      <span>EnvÃ­o:</span>
      <span>Gratis</span>
    </div>

    <div class="linea total">
      <span>Total:</span>
      <strong>{{ total | currency }}</strong>
    </div>

    <!-- ğŸŸ CupÃ³n -->
    <div class="cupon">
      <label for="cuponInput">Â¿Tienes un cupÃ³n?</label>
      <input id="cuponInput" type="text" placeholder="Ingresa tu cÃ³digo" />
      <button class="btn aplicar">Aplicar</button>
    </div>

    <!-- âœ… Acciones -->
    <button class="btn comprar">ğŸ›’ Realizar pedido</button>
    <button class="btn vaciar" (click)="vaciarCarrito()">ğŸ—‘ Vaciar carrito</button>
    <button class="btn volver" (click)="volver()">â† Volver a productos</button>

  </div>
</div>

<!-- ğŸ›’ Carrito vacÃ­o -->
<ng-template #vacio>
  <div class="carrito-vacio">
    <p>ğŸ›’ Tu carrito estÃ¡ vacÃ­o</p>
    <button class="btn volver" (click)="volver()">â† Volver a productos</button>
  </div>
</ng-template>
